<div class="dialog background" #main-dialog>

    <h2>Add component</h2>

    <div layout="column top-left" class="dialog-content">

        <label class="primary">Type</label>
        <div layout="row center-left" style="margin-bottom: 12px; gap: 12px">
            <label layout="row center-start">
                <input type="checkbox" #type-view checked>
                <span>View</span>
            </label>
            <label layout="row center-start">
                <input type="checkbox" #type-ctrl checked>
                <span>Controller</span>
            </label>
        </div>

        <label class="primary" for="componentName">Component ID</label>
        <input #component-name type="text" spellcheck="false"
               (input)="normalizeName(this)"
               placeholder="enter id" id="componentName" required>
        <small style="max-width: 330px">
            The <code>componentId</code> must be at least 3 characters long and
            can contain only lower case letters, <code>-</code> and <code>/</code>.
            <br>
            &nbsp;&nbsp;<strong>e.g.:</strong>&nbsp;&nbsp; <em>layout/my-card</em>
        </small>

        <div #error-message></div>

    </div>

    <div layout="row center-spread" class="footer">
        <button #cancel-btn class="button primary">Cancel</button>
        <button @disable-if="componentName.value.length < 3 || (!typeView.checked && !typeCtrl.checked)"
                self="center" #add-btn class="button primary">Confirm</button>
    </div>

</div>
<div class="dialog background" #result-dialog>

    <h2 class="primary">Component added!</h2>

    <div class="dialog-content">

        <label class="accent">Path</label>
        <pre #path></pre>

        <h3>Load with:</h3>

        <label class="accent">HTML</label>
        <pre #html></pre>

        <label class="accent">Liquid</label>
        <pre #liquid></pre>

    </div>

    <div layout="row centee-spread" class="footer">
        <button #close-btn class="button primary">Close</button>
    </div>

</div>
<script type="jscript">
    function normalizeName(input) {
      input.value = input.value
        .toLowerCase()
        .replace(/\s\s+/g, ' ')
        .replace(/[^a-z0-9\-\/]/gi, '');
    }
</script>
